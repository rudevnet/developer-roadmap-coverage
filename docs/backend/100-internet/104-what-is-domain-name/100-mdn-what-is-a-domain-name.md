# Что такое доменные имена

> Оригинал статьи можно посмотреть [тут](https://developer.mozilla.org/ru/docs/Learn/Common_questions/Web_mechanics/What_is_a_domain_name).

В этом материале мы обсудим доменные имена: что это такое, как они формируются и как зарегистрировать домен для себя.

| Необходимые знания: | Вы должны знать [как работает Интернет](https://developer.mozilla.org/ru/docs/Learn/Common_questions/Web_mechanics/How_does_the_Internet_work) и понимать устройство [устройство URL](https://developer.mozilla.org/ru/docs/Learn/Common_questions/Web_mechanics/What_is_a_URL). |
| ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Цель:               | Вы узнаете, что такое доменные имена, как они работают и почему они важны.                                                                                                                                                                                                       |

## Краткое описание

Доменные имена - ключевая составляющая инфраструктуры Интернета. Они предоставляют человеко-читаемые адреса веб-серверов, доступных в Интернете.

Каждый компьютер подключён к Интернету и может быть доступен через публичный [IP-адрес](https://developer.mozilla.org/ru/docs/Glossary/IP_Address), который состоит из 32 бит для IPv4 адреса (такие адреса обычно записываются в виде четырёх чисел от 0 до 255, разделённых точками (напр., `173.194.121.32`) или 128 бит для IPv6 адреса (они обычно записываются в виде 8 групп по 4 шестнадцатеричных чисел, разделённых двоеточиями (напр., `2027:0da8:8b73:0000:0000:8a2e:0370:1337`). Компьютеры могут легко обрабатывать эти адреса , но у живых людей уходит слишком много времени на использование таких адресов. IP-адреса также сложно запоминаются и часто меняются со временем.

Для решения этой проблемы в Интернете используются человеко-читаемые адреса, называемые доменными именами.

## Глубокое погружение

### Структура доменных имён

Доменное имя имеет простую структуру, состоящую из нескольких частей (частей может быть бесконечное количество, но на практике число уровней обычно невелико), разделённых точками и **читаемых справа налево**:

![Anatomy of the MDN domain name](/assets/backend/internet/what-is-domain-name/mdn-what-is-a-domain-name/structure.png)

Каждая из этих частей предоставляет специфическую информацию о доменном имени.

#### [TLD (en-US)](https://developer.mozilla.org/en-US/docs/Glossary/TLD) (Корневой домен).

TLD сообщают пользователям об общей цели службы, стоящей за доменным именем. Самые общие TLD (`.com`, `.org`, `.net`) не требуют, чтобы веб-службы соответствовали каким-либо конкретным критериям, но некоторые TLD применяют более строгие правила, поэтому их цель более ясна. Например:

- Местные TLD, такие как `.us`, `.fr` или `.se`, могут требовать, чтобы услуга предоставлялась на определенном языке или размещалась в определенной стране — предполагается, что они указывают на ресурс на определенном языке или в определенной стране.
- TLD, содержащие `.gov`, могут использоваться только государственными ведомствами.
- TLD `.edu` предназначен только для использования образовательными и академическими учреждениями.

TLD могут содержать как специальные, так и латинские символы. Максимальная длина TLD составляет 63 символа, хотя в большинстве случаев она составляет около 2–3 символов.

Полный список TLD поддерживается [ICANN](https://www.icann.org/resources/pages/tlds-2012-02-25-en).

#### Ярлык(Label) (или компонент)

Ярлык — это то, что следует за TLD. Ярлык представляет собой нечувствительную к регистру последовательность символов длиной от одного до шестидесяти трех символов, содержащую только буквы от `A` до `Z`, цифры от `0` до `9` и символ '-' (который не может быть первым или последним символом в ярлыке). `a`, `97` и `hello-strange-person-16-how-are-you` это примеры допустимых ярлыков.

Ярлык, расположенный непосредственно перед TLD, также называется _Доменом Вторичного Уровня_ (Secondary Level Domain - SLD).

Доменное имя может иметь много ярлыков (или компонентов). Не обязательно и нет необходимости иметь 3 ярлыка для формирования доменного имени. Например, www.inf.ed.ac.uk — действительное доменное имя. Для любого домена, которым вы управляете (например, [mozilla.org](https://www.mozilla.org/)), вы можете создать «поддомены» с разным содержимым, расположенным в каждом домене, например, [developer.mozilla.org](https://developer.mozilla.org/), [iot.mozilla.org](https://iot.mozilla.org/) или [bugzilla.mozilla.org](https://bugzilla.mozilla.org).

### Покупка доменного имени

#### Кто владеет доменным именем?

Вы не можете “купить доменное имя”. Вы платите за право использовать доменное имя в течение одного или нескольких лет. Вы можете продлить это право и ваше продление будет иметь безусловный приоритет над заявками на домен от других желающих. Но вы никогда не будете владеть доменным именем.

Компании, называемые регистраторами, ведут реестры доменных имён, которые содержат техническую и административную информацию, связывающую вас и ваш домен.

> **Примечание:** Для некоторых доменных имён регистратор может отсутствовать, реестр может не вестись. Например, все домены в зоне .fire используются компанией Amazon только в собственных нуждах.

#### Как найти свободное доменное имя

Для того, чтобы определить, свободно или нет желаемое доменное имя, сделайте следующее,

- Перейдите на веб-сайта регистратора доменных имён. Большинство из них предоставляют сервис "whois", который подскажет вам, свободно ли желаемое доменное имя.
- Также вы можете использовать командную строку, введя в ней команду whois и получив ответ, например, для `mozilla.org`:

```
$ whois mozilla.org
Domain Name:MOZILLA.ORG
Domain ID: D1409563-LROR
Creation Date: 1998-01-24T05:00:00Z
Updated Date: 2013-12-08T01:16:57Z
Registry Expiry Date: 2015-01-23T05:00:00Z
Sponsoring Registrar:MarkMonitor Inc. (R37-LROR)
Sponsoring Registrar IANA ID: 292
WHOIS Server:
Referral URL:
Domain Status: clientDeleteProhibited
Domain Status: clientTransferProhibited
Domain Status: clientUpdateProhibited
Registrant ID:mmr-33684
Registrant Name:DNS Admin
Registrant Organization:Mozilla Foundation
Registrant Street: 650 Castro St Ste 300
Registrant City:Mountain View
Registrant State/Province:CA
Registrant Postal Code:94041
Registrant Country:US
Registrant Phone:+1.6509030800
```

Как вы видите, нельзя зарегистрировать доменное имя `mozilla.org` потому что Mozilla Foundation уже зарегистрировало его.

Теперь давайте посмотрим, можно ли зарегистрировать доменное имя `afunkydomainname.org`:

```
$ whois afunkydomainname.org
NOT FOUND
```

Как вы видите, домен не существует в базе данных whois (на момент написания этой статьи), соответственно, его можно зарегистрировать.

#### Как получить доменное имя

Процедура довольно проста:

1. Перейдите на веб-сайт регистратора доменных имён.
2. Обычно там есть кнопка "Зарегистрировать домен" или что-то подобное. Нажмите её.
3. Заполните форму требуемыми данными. Убедитесь, что вы не опечатались в названии доменного имени. Потому что, если вы оплатите его, то будет уже поздно исправлять ошибку!
4. Регистратор сообщит вам, когда доменное имя будет корректно зарегистрировано. Через несколько часов все DNS-сервера обновятся и ваш домен начнёт работать.

> **Примечание:** В процессе регистрации регистратор доменов спросит вас ваш реальный домашний или рабочий адрес. Обязательно заполните его корректно, потому что многие национальные регистраторы могут отменить регистрацию домена, если был указан ошибочный адрес.

#### Обновление DNS

Базы данных DNS хранятся на каждом DNS-сервере по всему миру и эти серверы обращаются за обновлениями к нескольким серверам, называемым “authoritative name server” или “корневой DNS-сервер”. Когда ваш регистратор создаёт или обновляет информацию о зарегистрированном домене, она должна обновиться во всех DNS-базах. Каждый DNS-сервер хранит информацию о домене фиксированное количество времени, а затем автоматически обновляет её (DNS-сервер запрашивает корневой сервер снова). Соответственно, обновление баз занимает какое-то время, пока информация о новых или изменённых доменах распространяется по Интернету.

> **Примечание:** Это время часто называется **время распространения**. Тем не менее эта задержка не означает, что за это время доменное имя обновит само себя на всех серверах сверху донизу. Очень часто DNS-сервер, запрашиваемый вашим компьютером не знает конкретного домена и запрашивает о нём корневые DNS-сервера по мере требования.

### Как работает DNS-запрос?

Как мы уже увидели, когда вы хотите, чтобы веб-страница отобразилась в вашем браузере, легче напечатать доменное имя, чем IP-адрес. Давайте разберём весь процесс:

1. Напечатайте `mozilla.org` в адресной строке вашего браузера.
2. Ваш браузер спросит ваш компьютер, знает ли он уже, какому IP-адресу соответствует этот домен (используя локальный DNS-кеш). Если имя есть в кеше, оно транслируется в IP-адрес и браузер направляется к необходимому серверу. И всё.
3. Если же ваш компьютер не знает, какой IP-адрес соответствует доменному имени `mozilla.org`, он запрашивает DNS-сервер, чья задача - сообщить вашему компьютеру какой IP-адрес соответствует запрошенному доменному имени.
4. Теперь ваш компьютер знает соответствие и может взаимодействовать с сервером.

![Explanation of the steps needed to obtain the result to a DNS request](/assets/backend/internet/what-is-domain-name/mdn-what-is-a-domain-name/2014-10-dns-request2.png)
